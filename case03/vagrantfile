Vagrant.configure("2") do |config|
    config.vm.box = "ubuntu/trusty64"
    config.vm.box_url = "ubuntu/trusty64"

    config.vm.define :"Spikes.Kafka.case03.kafka" do |Spikes.Kafka.case03.kafka|

    config.vm.synced_folder ".", "/home/vagrant/code"

    config.vm.provider :virtualbox do |vb|
        vb.name = "Spikes.Kafka.case01"
        vb.customize ["modifyvm", :id, "--memory", "2048"]
    end

    config.vm.provision :fabric do |fabric|
        fabric.fabfile_path = "fabfile.py"
        fabric.tasks = ["ubuntu.update", "nodejs.install", "nodejs.tools.install", "kafka.full:configuration=fabric_scripts/configuration/kafka", "ubuntu.cleanup"]
    end

#  config.vm.define "zookeeper" do |zookeeper|
#    zookeeper.vm.network :private_network, ip: "192.168.86.5"
#    zookeeper.vm.provider :virtualbox do |vb|
#      vb.customize ["modifyvm", :id, "--memory", "512"]
#    end
#    zookeeper.vm.provision "shell", path: "vagrant/zk.sh"
#  end

#  config.vm.define "brokerOne" do |brokerOne|
#    brokerOne.vm.network :private_network, ip: "192.168.86.10"
#    brokerOne.vm.provider :virtualbox do |vb|
#      vb.customize ["modifyvm", :id, "--memory", "512"]
#    end
#    brokerOne.vm.provision "shell", path: "vagrant/broker.sh", :args => "1"
#  end
end